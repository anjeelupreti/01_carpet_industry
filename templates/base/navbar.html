{% load static %}
<!-- Desktop Navigation -->
<nav class="desktop-nav d-none d-lg-block">
  
  <ul class="nav mb-0 align-items-center">
    <!-- Home -->
    <li class="nav-item">
      <a class="nav-link position-relative px-3 {% if request.path == '/' %}active{% endif %}" href="{% url 'homepage' %}">
        Home
        <span class="nav-hover-line"></span>
      </a>
    </li>
    
    <!-- About Dropdown -->
    <li class="nav-item dropdown">
      <a class="nav-link dropdown-toggle position-relative px-3" href="#" role="button" data-bs-toggle="dropdown" aria-expanded="false">
        About
        <span class="nav-hover-line"></span>
      </a>
      <ul class="dropdown-menu dropdown-menu-start animate__animated animate__fadeIn">
        <li>
          <a class="dropdown-item d-flex align-items-center py-2" href="{% url 'about_us' %}">
            <i class="bi bi-building me-2 text-primary"></i>
            <div>
              <span class="d-block fw-medium">About Us</span>
              <small class="text-muted">Our company profile</small>
            </div>
          </a>
        </li>
        <li><hr class="dropdown-divider"></li>
        <li>
          <a class="dropdown-item d-flex align-items-center py-2" href="{% url 'history' %}">
            <i class="bi bi-clock-history me-2 text-primary"></i>
            <div>
              <span class="d-block fw-medium">History</span>
              <small class="text-muted">Our journey & milestones</small>
            </div>
          </a>
        </li>
        <li>
          <a class="dropdown-item d-flex align-items-center py-2" href="{% url 'manufacturing' %}">
            <i class="bi bi-gear me-2 text-primary"></i>
            <div>
              <span class="d-block fw-medium">Manufacturing Process</span>
              <small class="text-muted">How we create quality</small>
            </div>
          </a>
        </li>
        <li>
          <a class="dropdown-item d-flex align-items-center py-2" href="{% url 'gallery' %}">
            <i class="bi bi-images me-2 text-primary"></i>
            <div>
              <span class="d-block fw-medium">Gallery</span>
              <small class="text-muted">Visual showcase</small>
            </div>
          </a>
        </li>
      </ul>
    </li>
    
    <!-- Products -->
    <li class="nav-item">
      <a class="nav-link position-relative px-3 {% if '/products/' in request.path %}active{% endif %}" href="{% url 'products' %}">
        Products
        <span class="nav-hover-line"></span>
      </a>
    </li>
    
    <!-- Contact -->
    <li class="nav-item">
      <a class="nav-link position-relative px-3 {% if '/contact-us/' in request.path %}active{% endif %}" href="{% url 'contact_us' %}">
        Contact
        <span class="nav-hover-line"></span>
      </a>
    </li>
    
    <!-- User Actions -->
    <li class="nav-item ms-auto">
      <div class="d-flex gap-2 align-items-center">
        <a href="#" class="btn btn-outline-primary btn-sm px-3 d-flex align-items-center login-btn">
          <i class="bi bi-box-arrow-in-right me-1"></i> 
          <span class="d-none d-md-inline">Login</span>
        </a>
        <a href="#" class="btn btn-primary btn-sm px-3 d-flex align-items-center signup-btn">
          <i class="bi bi-person-plus me-1"></i> 
          <span class="d-none d-md-inline">Sign Up</span>
        </a>
      </div>
    </li>
  </ul>
</nav>

<!-- Mobile Navigation -->
<nav class="mobile-nav d-lg-none">
  <ul class="list-unstyled mb-0">
    <!-- Home -->
    <li class="mb-1">
      <a class="d-flex align-items-center p-3 text-decoration-none rounded-3 {% if request.path == '/' %}active-link bg-primary text-white{% else %}hover-bg-light{% endif %}" href="{% url 'homepage' %}">
        <div class="icon-wrapper me-3">
          <i class="bi bi-house fs-5"></i>
        </div>
        <div>
          <span class="d-block fw-medium">Home</span>
          <small class="text-muted opacity-75">Main page</small>
        </div>
      </a>
    </li>
    
    <!-- About Us -->
    <li class="mb-1">
      <a class="d-flex align-items-center p-3 text-decoration-none rounded-3 {% if '/about/' in request.path %}active-link bg-primary text-white{% else %}hover-bg-light{% endif %}" href="{% url 'about_us' %}">
        <div class="icon-wrapper me-3">
          <i class="bi bi-info-circle fs-5"></i>
        </div>
        <div>
          <span class="d-block fw-medium">About Us</span>
          <small class="text-muted opacity-75">Company overview</small>
        </div>
      </a>
    </li>
    
    <!-- History -->
    <li class="mb-1">
      <a class="d-flex align-items-center p-3 text-decoration-none rounded-3 {% if '/history/' in request.path %}active-link bg-primary text-white{% else %}hover-bg-light{% endif %}" href="{% url 'history' %}">
        <div class="icon-wrapper me-3">
          <i class="bi bi-clock-history fs-5"></i>
        </div>
        <div>
          <span class="d-block fw-medium">History</span>
          <small class="text-muted opacity-75">Our journey</small>
        </div>
      </a>
    </li>
    
    <!-- Manufacturing Process -->
    <li class="mb-1">
      <a class="d-flex align-items-center p-3 text-decoration-none rounded-3 {% if '/manufacturing/' in request.path %}active-link bg-primary text-white{% else %}hover-bg-light{% endif %}" href="{% url 'manufacturing' %}">
        <div class="icon-wrapper me-3">
          <i class="bi bi-gear fs-5"></i>
        </div>
        <div>
          <span class="d-block fw-medium">Manufacturing</span>
          <small class="text-muted opacity-75">Production process</small>
        </div>
      </a>
    </li>
    
    <!-- Gallery -->
    <li class="mb-1">
      <a class="d-flex align-items-center p-3 text-decoration-none rounded-3 {% if '/gallery/' in request.path %}active-link bg-primary text-white{% else %}hover-bg-light{% endif %}" href="{% url 'gallery' %}">
        <div class="icon-wrapper me-3">
          <i class="bi bi-images fs-5"></i>
        </div>
        <div>
          <span class="d-block fw-medium">Gallery</span>
          <small class="text-muted opacity-75">Visual showcase</small>
        </div>
      </a>
    </li>
    
    <!-- Products -->
    <li class="mb-1">
      <a class="d-flex align-items-center p-3 text-decoration-none rounded-3 {% if '/products/' in request.path %}active-link bg-primary text-white{% else %}hover-bg-light{% endif %}" href="{% url 'products' %}">
        <div class="icon-wrapper me-3">
          <i class="bi bi-grid-3x3-gap fs-5"></i>
        </div>
        <div>
          <span class="d-block fw-medium">Products</span>
          <small class="text-muted opacity-75">Our offerings</small>
        </div>
      </a>
    </li>
    
    <!-- Contact -->
    <li class="mb-4">
      <a class="d-flex align-items-center p-3 text-decoration-none rounded-3 {% if '/contact-us/' in request.path %}active-link bg-primary text-white{% else %}hover-bg-light{% endif %}" href="{% url 'contact_us' %}">
        <div class="icon-wrapper me-3">
          <i class="bi bi-envelope fs-5"></i>
        </div>
        <div>
          <span class="d-block fw-medium">Contact</span>
          <small class="text-muted opacity-75">Get in touch</small>
        </div>
      </a>
    </li>
    
    <!-- User Actions -->
    <li class="pt-3 border-top">
      <div class="d-grid gap-2">
        <a href="#" class="btn btn-primary btn-lg d-flex align-items-center justify-content-center py-2">
          <i class="bi bi-box-arrow-in-right me-2"></i>
          <span>Login to Account</span>
        </a>
        <a href="#" class="btn btn-outline-primary btn-lg d-flex align-items-center justify-content-center py-2">
          <i class="bi bi-person-plus me-2"></i>
          <span>Create Account</span>
        </a>
      </div>
    </li>
  </ul>
</nav>

<!-- Add this style section for enhanced navbar styling -->
<style>
/* Enhanced Navbar Styling */
:root {
  --primary-color: #000080; /* Navy Blue */
  --primary-hover: #1a1a8c;
  --primary-light: rgba(0, 0, 128, 0.1);
  --transition-speed: 0.3s;
}

/* Desktop Navigation Enhancements */
.desktop-nav .nav-link {
  color: var(--heading-color) !important;
  font-weight: 500;
  font-size: 0.95rem;
  text-transform: uppercase;
  letter-spacing: 0.5px;
  padding: 1rem 1.5rem !important;
  transition: all var(--transition-speed) ease;
  position: relative;
}

.desktop-nav .nav-link:hover {
  color: var(--primary-color) !important;
  transform: translateY(-1px);
}

.desktop-nav .nav-link.active {
  color: var(--primary-color) !important;
  font-weight: 600;
}

.nav-hover-line {
  position: absolute;
  bottom: 0;
  left: 50%;
  width: 0;
  height: 2px;
  background: var(--primary-color);
  transform: translateX(-50%);
  transition: width var(--transition-speed) ease;
}

.desktop-nav .nav-link:hover .nav-hover-line,
.desktop-nav .nav-link.active .nav-hover-line {
  width: 70%;
}

/* Dropdown Enhancements */
.dropdown-menu {
  border: none;
  box-shadow: 0 10px 40px rgba(0, 0, 0, 0.1);
  border-radius: 10px;
  padding: 0.75rem;
  min-width: 280px;
  margin-top: 10px !important;
  animation-duration: 0.2s;
}

.dropdown-item {
  border-radius: 8px;
  margin: 2px 0;
  transition: all var(--transition-speed) ease;
  position: relative;
  overflow: hidden;
}

.dropdown-item::before {
  content: '';
  position: absolute;
  left: -100%;
  top: 0;
  width: 100%;
  height: 100%;
  background: var(--primary-light);
  transition: left var(--transition-speed) ease;
}

.dropdown-item:hover::before {
  left: 0;
}

.dropdown-item:hover {
  background: transparent;
  color: var(--primary-color);
  transform: translateX(5px);
}

.dropdown-item i {
  transition: transform var(--transition-speed) ease;
}

.dropdown-item:hover i {
  transform: scale(1.1);
}

/* Button Enhancements */
.login-btn, .signup-btn {
  border-radius: 25px;
  transition: all var(--transition-speed) ease !important;
  border-width: 2px;
  font-weight: 500;
}

.login-btn {
  border-color: var(--primary-color);
  color: var(--primary-color);
}

.login-btn:hover {
  background: var(--primary-color);
  color: white;
  transform: translateY(-2px);
  box-shadow: 0 5px 15px rgba(0, 0, 128, 0.2);
}

.signup-btn {
  background: var(--primary-color);
  border-color: var(--primary-color);
}

.signup-btn:hover {
  background: var(--primary-hover);
  border-color: var(--primary-hover);
  transform: translateY(-2px);
  box-shadow: 0 5px 15px rgba(0, 0, 128, 0.3);
}

/* Mobile Navigation Enhancements */
.mobile-nav .icon-wrapper {
  width: 40px;
  height: 40px;
  background: var(--primary-light);
  border-radius: 10px;
  display: flex;
  align-items: center;
  justify-content: center;
  transition: all var(--transition-speed) ease;
}

.mobile-nav a:hover .icon-wrapper,
.mobile-nav .active-link .icon-wrapper {
  background: var(--primary-color);
  color: white;
  transform: scale(1.1);
}

.mobile-nav .hover-bg-light:hover {
  background: rgba(0, 0, 0, 0.03);
}

.mobile-nav .active-link {
  background: var(--primary-color);
  color: white !important;
}

.mobile-nav .active-link small {
  color: rgba(255, 255, 255, 0.8) !important;
}

.mobile-nav a {
  transition: all var(--transition-speed) ease;
}

.mobile-nav a:hover {
  transform: translateX(5px);
}

.mobile-nav .btn {
  border-radius: 12px;
  transition: all var(--transition-speed) ease;
}

.mobile-nav .btn:hover {
  transform: translateY(-2px);
}

/* Responsive adjustments */
@media (max-width: 992px) {
  .desktop-nav .nav-link {
    padding: 0.75rem 1rem !important;
  }
}

/* Add smooth animations */
@keyframes fadeInDown {
  from {
    opacity: 0;
    transform: translateY(-10px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

.dropdown-menu {
  animation: fadeInDown 0.2s ease-out;
}

/* Logo styling if you want to add it to navbar */
.navbar-brand {
  font-weight: 700;
  font-size: 1.5rem;
  color: var(--heading-color) !important;
}

.navbar-brand img {
  max-height: 40px;
  transition: transform var(--transition-speed) ease;
}

.navbar-brand:hover img {
  transform: scale(1.05);
}
</style>

<!-- Add this script for interactive enhancements -->
<script>
document.addEventListener('DOMContentLoaded', function() {
  // Add smooth hover effects for dropdowns
  const dropdowns = document.querySelectorAll('.dropdown');
  
  dropdowns.forEach(dropdown => {
    dropdown.addEventListener('mouseenter', function() {
      const menu = this.querySelector('.dropdown-menu');
      if (menu) {
        menu.classList.add('show');
        this.querySelector('.dropdown-toggle').setAttribute('aria-expanded', 'true');
      }
    });
    
    dropdown.addEventListener('mouseleave', function() {
      const menu = this.querySelector('.dropdown-menu');
      if (menu) {
        setTimeout(() => {
          if (!this.matches(':hover')) {
            menu.classList.remove('show');
            this.querySelector('.dropdown-toggle').setAttribute('aria-expanded', 'false');
          }
        }, 200);
      }
    });
  });
  
  // Add click animation for mobile menu items
  const mobileLinks = document.querySelectorAll('.mobile-nav a');
  mobileLinks.forEach(link => {
    link.addEventListener('click', function(e) {
      if (this.getAttribute('href') !== '#') {
        this.style.transform = 'scale(0.98)';
        setTimeout(() => {
          this.style.transform = '';
        }, 200);
      }
    });
  });
  
  // Add scroll effect for navbar (optional)
  window.addEventListener('scroll', function() {
    const navbar = document.querySelector('.desktop-nav');
    if (navbar && window.scrollY > 50) {
      navbar.style.backdropFilter = 'blur(10px)';
      navbar.style.backgroundColor = 'rgba(255, 255, 255, 0.95)';
    } else if (navbar) {
      navbar.style.backdropFilter = 'none';
      navbar.style.backgroundColor = '';
    }
  });
});
</script>