{% extends 'base/index.html' %}
{% load static %}

{% block title %}Carpet Collections - Everest Memorial{% endblock %}

{% block extra_css %}
<style>
/* ========== PRODUCTS PAGE ENHANCEMENTS ========== */
:root {
    --primary-navy: #0a192f;
    --dark-navy: #071528;
    --medium-navy: #1e3a5f;
    --light-navy: #2c5282;
    --lightest-navy: #90a3bf;
    --transition-smooth: 0.3s cubic-bezier(0.4, 0, 0.2, 1);
    --shadow-soft: 0 5px 15px rgba(10, 25, 47, 0.05);
    --shadow-medium: 0 10px 25px rgba(10, 25, 47, 0.08);
    --shadow-large: 0 15px 35px rgba(10, 25, 47, 0.12);
}

/* Page Hero */
.products-hero {
    background: linear-gradient(135deg, var(--primary-navy) 0%, var(--dark-navy) 100%);
    padding: 80px 0 40px;
    position: relative;
    overflow: hidden;
}

.hero-pattern {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    opacity: 0.08;
    background-image: 
        radial-gradient(circle at 20% 80%, var(--lightest-navy) 1px, transparent 1px),
        radial-gradient(circle at 80% 20%, var(--lightest-navy) 1px, transparent 1px);
    background-size: 80px 80px;
    animation: patternFloat 30s linear infinite;
}

@keyframes patternFloat {
    0% { transform: translate(0, 0); }
    25% { transform: translate(10px, 10px); }
    50% { transform: translate(20px, 5px); }
    75% { transform: translate(10px, -5px); }
    100% { transform: translate(0, 0); }
}

.hero-badge {
    display: inline-flex;
    align-items: center;
    gap: 8px;
    background: rgba(44, 82, 130, 0.3);
    color: var(--lightest-navy);
    padding: 8px 20px;
    border-radius: 25px;
    font-size: 0.9rem;
    font-weight: 500;
    margin-bottom: 20px;
    border: 1px solid rgba(44, 82, 130, 0.5);
    backdrop-filter: blur(10px);
}

/* Filter Controls */
.filter-controls {
    background: white;
    padding: 20px;
    border-radius: 16px;
    box-shadow: var(--shadow-soft);
    margin: -30px 0 30px;
    position: relative;
    z-index: 10;
    border: 1px solid rgba(10, 25, 47, 0.08);
}

.filter-row {
    display: grid;
    grid-template-columns: 1fr auto auto;
    gap: 20px;
    align-items: center;
}

.search-box {
    position: relative;
}

.search-box input {
    width: 100%;
    padding: 12px 45px 12px 20px;
    border: 2px solid rgba(10, 25, 47, 0.1);
    border-radius: 12px;
    font-size: 0.95rem;
    transition: all var(--transition-smooth);
    background: rgba(248, 249, 250, 0.8);
    color: var(--primary-navy);
}

.search-box input:focus {
    outline: none;
    border-color: var(--light-navy);
    box-shadow: 0 0 0 3px rgba(44, 82, 130, 0.1);
    background: white;
}

.search-icon {
    position: absolute;
    right: 15px;
    top: 50%;
    transform: translateY(-50%);
    color: var(--light-navy);
    pointer-events: none;
}

.filter-buttons {
    display: flex;
    gap: 10px;
    flex-wrap: wrap;
}

.filter-btn {
    padding: 10px 20px;
    border: 2px solid rgba(10, 25, 47, 0.1);
    background: white;
    color: var(--primary-navy);
    border-radius: 25px;
    font-weight: 500;
    font-size: 0.9rem;
    cursor: pointer;
    transition: all var(--transition-smooth);
    display: flex;
    align-items: center;
    gap: 8px;
    white-space: nowrap;
}

.filter-btn:hover {
    border-color: var(--light-navy);
    color: var(--light-navy);
    transform: translateY(-2px);
}

.filter-btn.active {
    background: var(--primary-navy);
    border-color: var(--primary-navy);
    color: white;
    box-shadow: var(--shadow-soft);
}

.sort-dropdown select {
    padding: 10px 20px;
    border: 2px solid rgba(10, 25, 47, 0.1);
    border-radius: 12px;
    background: white;
    color: var(--primary-navy);
    font-weight: 500;
    cursor: pointer;
    transition: all var(--transition-smooth);
    min-width: 180px;
}

.sort-dropdown select:focus {
    outline: none;
    border-color: var(--light-navy);
    box-shadow: 0 0 0 3px rgba(44, 82, 130, 0.1);
}

/* Product Grid */
.product-grid {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(320px, 1fr));
    gap: 30px;
    padding: 20px 0 40px;
}

.product-card {
    background: white;
    border-radius: 16px;
    overflow: hidden;
    box-shadow: var(--shadow-soft);
    transition: all var(--transition-smooth);
    position: relative;
    opacity: 0;
    transform: translateY(20px);
    animation: cardAppear 0.6s ease forwards;
    display: flex;
    flex-direction: column;
    height: 100%;
}

@keyframes cardAppear {
    to {
        opacity: 1;
        transform: translateY(0);
    }
}

.product-card:nth-child(2) { animation-delay: 0.1s; }
.product-card:nth-child(3) { animation-delay: 0.2s; }
.product-card:nth-child(4) { animation-delay: 0.3s; }
.product-card:nth-child(5) { animation-delay: 0.4s; }
.product-card:nth-child(6) { animation-delay: 0.5s; }

.product-card:hover {
    transform: translateY(-8px);
    box-shadow: var(--shadow-large);
    border-color: var(--light-navy);
}

.card-badge {
    position: absolute;
    top: 15px;
    left: 15px;
    padding: 6px 15px;
    border-radius: 20px;
    font-size: 0.8rem;
    font-weight: 600;
    z-index: 2;
    color: white;
    backdrop-filter: blur(10px);
    border: 1px solid rgba(255, 255, 255, 0.2);
}

.badge-popular { background: linear-gradient(135deg, var(--medium-navy), var(--light-navy)); }
.badge-new { background: linear-gradient(135deg, #1e3a5f, #2c5282); }
.badge-featured { background: linear-gradient(135deg, #0a192f, #1e3a5f); }

.card-image {
    position: relative;
    height: 220px;
    overflow: hidden;
    flex-shrink: 0;
}

.card-image img {
    width: 100%;
    height: 100%;
    object-fit: cover;
    transition: transform 0.8s cubic-bezier(0.4, 0, 0.2, 1);
}

.product-card:hover .card-image img {
    transform: scale(1.08);
}

.image-overlay {
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: linear-gradient(to top, rgba(10, 25, 47, 0.9), transparent 50%);
    opacity: 0;
    transition: opacity var(--transition-smooth);
    display: flex;
    align-items: flex-end;
    justify-content: center;
    padding: 20px;
}

.product-card:hover .image-overlay {
    opacity: 1;
}

.view-details-btn {
    display: inline-flex;
    align-items: center;
    gap: 8px;
    background: white;
    color: var(--primary-navy);
    padding: 12px 24px;
    border-radius: 8px;
    text-decoration: none;
    font-weight: 600;
    font-size: 0.9rem;
    transition: all 0.3s ease;
    border: 2px solid transparent;
    transform: translateY(20px);
    opacity: 0;
}

.view-details-btn:hover {
    background: var(--primary-navy);
    color: white;
    border-color: white;
    transform: translateY(0) scale(1.05);
    box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
}

.product-card:hover .view-details-btn {
    transform: translateY(0);
    opacity: 1;
    transition-delay: 0.1s;
}

.card-content {
    padding: 20px;
    flex-grow: 1;
    display: flex;
    flex-direction: column;
}

.card-category {
    display: inline-block;
    padding: 4px 12px;
    background: rgba(44, 82, 130, 0.1);
    color: var(--light-navy);
    border-radius: 12px;
    font-size: 0.8rem;
    font-weight: 500;
    margin-bottom: 12px;
    align-self: flex-start;
}

.card-title {
    font-size: 1.3rem;
    font-weight: 600;
    color: var(--primary-navy);
    margin-bottom: 10px;
    line-height: 1.3;
}

.card-description {
    color: rgba(51, 51, 51, 0.7);
    font-size: 0.9rem;
    line-height: 1.5;
    margin-bottom: 15px;
    flex-grow: 1;
}

.card-specs {
    display: flex;
    gap: 15px;
    margin-bottom: 15px;
    flex-wrap: wrap;
}

.spec-item {
    display: flex;
    align-items: center;
    gap: 6px;
    font-size: 0.85rem;
    color: rgba(51, 51, 51, 0.6);
}

.spec-item i {
    color: var(--light-navy);
    font-size: 0.9rem;
}

.card-footer {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding-top: 15px;
    border-top: 1px solid rgba(10, 25, 47, 0.05);
    margin-top: auto;
}

.quality-tag {
    display: inline-flex;
    align-items: center;
    gap: 5px;
    padding: 4px 12px;
    background: rgba(44, 82, 130, 0.1);
    color: var(--light-navy);
    border-radius: 12px;
    font-size: 0.8rem;
    font-weight: 500;
}

.card-actions {
    display: flex;
    gap: 10px;
}

.primary-action-btn {
    display: inline-flex;
    align-items: center;
    gap: 8px;
    background: var(--primary-navy);
    color: white;
    padding: 10px 20px;
    border-radius: 8px;
    text-decoration: none;
    font-weight: 600;
    font-size: 0.9rem;
    transition: all 0.3s ease;
    border: 2px solid var(--primary-navy);
    box-shadow: 0 4px 12px rgba(10, 25, 47, 0.15);
}

.primary-action-btn:hover {
    background: white;
    color: var(--primary-navy);
    transform: translateY(-2px);
    box-shadow: 0 6px 20px rgba(10, 25, 47, 0.2);
}

.secondary-action-btn {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    width: 40px;
    height: 40px;
    background: rgba(44, 82, 130, 0.1);
    color: var(--light-navy);
    border-radius: 8px;
    text-decoration: none;
    font-size: 1rem;
    transition: all 0.3s ease;
    border: 1px solid rgba(44, 82, 130, 0.2);
}

.secondary-action-btn:hover {
    background: var(--light-navy);
    color: white;
    transform: translateY(-2px);
}

/* Pagination */
.pagination-container {
    margin-top: 40px;
    padding-top: 30px;
    border-top: 1px solid rgba(10, 25, 47, 0.08);
}

.pagination {
    display: flex;
    justify-content: center;
    align-items: center;
    gap: 5px;
    list-style: none;
    padding: 0;
    margin: 0;
}

.page-item {
    margin: 0 3px;
}

.page-link {
    display: flex;
    align-items: center;
    justify-content: center;
    min-width: 40px;
    height: 40px;
    padding: 0 15px;
    border: 2px solid rgba(10, 25, 47, 0.1);
    border-radius: 8px;
    color: var(--primary-navy);
    font-weight: 500;
    text-decoration: none;
    transition: all var(--transition-smooth);
    background: white;
}

.page-link:hover:not(.disabled) {
    border-color: var(--light-navy);
    color: var(--light-navy);
    transform: translateY(-2px);
}

.page-item.active .page-link {
    background: var(--primary-navy);
    border-color: var(--primary-navy);
    color: white;
    box-shadow: var(--shadow-soft);
}

.page-item.disabled .page-link {
    opacity: 0.5;
    cursor: not-allowed;
    transform: none !important;
}

.page-link i {
    font-size: 0.9rem;
}

/* Empty State */
.empty-state {
    text-align: center;
    padding: 60px 20px;
    background: white;
    border-radius: 20px;
    border: 2px dashed rgba(10, 25, 47, 0.1);
    margin: 40px 0;
}

.empty-icon {
    font-size: 3rem;
    color: rgba(10, 25, 47, 0.1);
    margin-bottom: 20px;
}

.empty-state h3 {
    color: var(--primary-navy);
    margin-bottom: 10px;
}

.empty-state p {
    color: rgba(51, 51, 51, 0.6);
    margin-bottom: 20px;
}

.clear-filters-btn {
    display: inline-flex;
    align-items: center;
    gap: 8px;
    background: var(--primary-navy);
    color: white;
    padding: 10px 24px;
    border-radius: 8px;
    border: none;
    font-weight: 500;
    transition: all 0.3s ease;
    cursor: pointer;
}

.clear-filters-btn:hover {
    background: var(--medium-navy);
    transform: translateY(-2px);
    box-shadow: var(--shadow-soft);
}

/* Quick Stats */
.quick-stats {
    margin-top: 60px;
    background: linear-gradient(135deg, var(--primary-navy) 0%, var(--dark-navy) 100%);
    border-radius: 20px;
    padding: 40px;
    position: relative;
    overflow: hidden;
}

.stats-container {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
    gap: 30px;
}

.stat-item {
    text-align: center;
    position: relative;
    padding: 20px;
    background: rgba(255, 255, 255, 0.1);
    border-radius: 15px;
    backdrop-filter: blur(10px);
    border: 1px solid rgba(255, 255, 255, 0.1);
    transition: all var(--transition-smooth);
}

.stat-item:hover {
    transform: translateY(-5px);
    background: rgba(255, 255, 255, 0.15);
    box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
}

.stat-icon {
    width: 60px;
    height: 60px;
    background: rgba(255, 255, 255, 0.2);
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    margin: 0 auto 15px;
    color: white;
    font-size: 1.5rem;
}

.stat-number {
    font-size: 2rem;
    font-weight: 700;
    color: white;
    margin-bottom: 5px;
    display: block;
}

.stat-label {
    color: rgba(255, 255, 255, 0.8);
    font-size: 0.9rem;
}

/* Loading Animation */
.loading-skeleton {
    display: none;
}

.loading .product-card {
    opacity: 0.3;
    pointer-events: none;
}

.loading .loading-skeleton {
    display: block;
    animation: skeletonLoading 1.5s infinite;
}

@keyframes skeletonLoading {
    0%, 100% { opacity: 1; }
    50% { opacity: 0.5; }
}

/* Responsive */
@media (max-width: 992px) {
    .filter-row {
        grid-template-columns: 1fr;
        gap: 15px;
    }
    
    .filter-buttons {
        justify-content: center;
    }
    
    .sort-dropdown {
        width: 100%;
    }
    
    .sort-dropdown select {
        width: 100%;
    }
    
    .product-grid {
        grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
    }
}

@media (max-width: 768px) {
    .product-grid {
        grid-template-columns: 1fr;
    }
    
    .stats-container {
        grid-template-columns: repeat(2, 1fr);
    }
    
    .filter-controls {
        margin: -20px 0 20px;
        padding: 15px;
    }
    
    .card-footer {
        flex-direction: column;
        gap: 15px;
        align-items: stretch;
    }
    
    .card-actions {
        justify-content: space-between;
    }
}

@media (max-width: 576px) {
    .stats-container {
        grid-template-columns: 1fr;
    }
    
    .card-actions {
        flex-direction: column;
        gap: 10px;
    }
    
    .primary-action-btn {
        justify-content: center;
    }
}
</style>
{% endblock %}

{% block content %}
{% include 'base/navbar.html' %}

<!-- Hero Section -->
<section class="products-hero">
    <div class="hero-pattern"></div>
    <div class="container position-relative">
        <div class="row align-items-center">
            <div class="col-lg-8 mx-auto text-center">
                <div class="hero-badge">
                    <i class="bi bi-award-fill"></i>
                    Premium Handmade Collections Since 1986
                </div>
                
                <h1 class="text-white mb-3 fw-bold display-5">
                    Exquisite Carpet <span class="text-light">Collections</span>
                </h1>
                
                <p class="lead text-light mb-4" style="opacity: 0.9;">
                    Discover our curated selection of authentic Tibetan carpets, each telling a unique story through intricate patterns and traditional craftsmanship.
                </p>
            </div>
        </div>
    </div>
</section>

<!-- Filter Controls -->
<section class="filter-section">
    <div class="container">
        <div class="filter-controls">
            <div class="filter-row">
                <!-- Search Box -->
                <div class="search-box">
                    <input type="text" 
                           placeholder="Search carpets by name, pattern, or design..."
                           id="searchInput"
                           autocomplete="off">
                    <div class="search-icon">
                        <i class="bi bi-search"></i>
                    </div>
                </div>
                
                <!-- Filter Buttons -->
                <div class="filter-buttons">
                    <button class="filter-btn active" data-filter="all">
                        <i class="bi bi-grid-3x3-gap"></i> All Collections
                    </button>
                    <button class="filter-btn" data-filter="traditional">
                        <i class="bi bi-flower1"></i> Traditional
                    </button>
                    <button class="filter-btn" data-filter="antique">
                        <i class="bi bi-clock-history"></i> Antique
                    </button>
                    <button class="filter-btn" data-filter="contemporary">
                        <i class="bi bi-stars"></i> Modern
                    </button>
                </div>
                
                <!-- Sort Dropdown -->
                <div class="sort-dropdown">
                    <select id="sortSelect">
                        <option value="featured">Featured First</option>
                        <option value="newest">Newest First</option>
                        <option value="popular">Most Popular</option>
                        <option value="price-low">Price: Low to High</option>
                        <option value="price-high">Price: High to Low</option>
                    </select>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- Replace the entire Products Grid section with this: -->

<!-- Products Grid -->
<section class="products-section py-4">
    <div class="container">
        <!-- Results Count -->
        <div class="d-flex justify-content-between align-items-center mb-4">
            <h5 class="mb-0" style="color: var(--primary-navy);" id="resultsCount">
                Showing <span class="fw-bold" style="color: var(--medium-navy);">6</span> products
            </h5>
        </div>
        
        <!-- Products Grid -->
        <div class="product-grid" id="productsGrid">
            <!-- Product Card 1 -->
            <div class="product-card" 
                 data-category="traditional"
                 data-name="Dragon Lotus Carpet"
                 data-tags="traditional,tibetan,dragon,lotus,premium"
                 data-price="1200">
                <div class="card-badge badge-popular">
                    <i class="bi bi-fire me-1"></i> Popular
                </div>
                
                <div class="card-image">
                    <img src="https://images.unsplash.com/photo-1600166898405-da9535204843?w=600&auto=format&fit=crop" 
                         alt="Dragon Lotus Carpet"
                         loading="lazy">
                    <div class="image-overlay">
                        <a href="{% url 'product_detail' %}" class="view-details-btn">
                            <i class="bi bi-eye me-2"></i> Quick Preview
                        </a>
                    </div>
                </div>
                
                <div class="card-content">
                    <span class="card-category">Traditional Tibetan</span>
                    <h3 class="card-title">Dragon Lotus Carpet</h3>
                    <p class="card-description">
                        Featuring traditional Tibetan dragon motifs with intricate lotus patterns. Handwoven with natural dyes.
                    </p>
                    
                    <div class="card-specs">
                        <div class="spec-item">
                            <i class="bi bi-rulers"></i>
                            <span>8×10 ft</span>
                        </div>
                        <div class="spec-item">
                            <i class="bi bi-node-plus"></i>
                            <span>80 knots</span>
                        </div>
                        <div class="spec-item">
                            <i class="bi bi-clock"></i>
                            <span>60 days</span>
                        </div>
                    </div>
                    
                    <div class="card-footer">
                        <span class="quality-tag">
                            <i class="bi bi-award"></i>
                            Premium Quality
                        </span>
                        
                        <div class="card-actions">
                            <a href="{% url 'product_detail' %}" class="primary-action-btn">
                                <i class="bi bi-eye me-2"></i> View Details
                            </a>
                            <a href="#" class="secondary-action-btn" title="Add to favorites">
                                <i class="bi bi-heart"></i>
                            </a>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Product Card 2 -->
            <div class="product-card" 
                 data-category="antique"
                 data-name="Persian Palace Carpet"
                 data-tags="antique,persian,palace,luxury"
                 data-price="1800">
                <div class="card-badge badge-featured">
                    <i class="bi bi-star-fill me-1"></i> Featured
                </div>
                
                <div class="card-image">
                    <img src="https://images.unsplash.com/photo-1600166898405-da9535204843?w=600&auto=format&fit=crop" 
                         alt="Persian Palace Carpet"
                         loading="lazy">
                    <div class="image-overlay">
                        <a href="{% url 'product_detail' %}" class="view-details-btn">
                            <i class="bi bi-eye me-2"></i> Quick Preview
                        </a>
                    </div>
                </div>
                
                <div class="card-content">
                    <span class="card-category">Antique Reproduction</span>
                    <h3 class="card-title">Persian Palace Carpet</h3>
                    <p class="card-description">
                        18th-century Persian design reproduction with intricate floral patterns and aged finish.
                    </p>
                    
                    <div class="card-specs">
                        <div class="spec-item">
                            <i class="bi bi-rulers"></i>
                            <span>9×12 ft</span>
                        </div>
                        <div class="spec-item">
                            <i class="bi bi-node-plus"></i>
                            <span>100 knots</span>
                        </div>
                        <div class="spec-item">
                            <i class="bi bi-clock"></i>
                            <span>90 days</span>
                        </div>
                    </div>
                    
                    <div class="card-footer">
                        <span class="quality-tag">
                            <i class="bi bi-gem"></i>
                            Luxury Quality
                        </span>
                        
                        <div class="card-actions">
                            <a href="{% url 'product_detail' %}" class="primary-action-btn">
                                <i class="bi bi-eye me-2"></i> View Details
                            </a>
                            <a href="#" class="secondary-action-btn" title="Add to favorites">
                                <i class="bi bi-heart"></i>
                            </a>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Product Card 3 -->
            <div class="product-card" 
                 data-category="contemporary"
                 data-name="Modern Geometric Carpet"
                 data-tags="modern,geometric,abstract,contemporary"
                 data-price="850">
                <div class="card-badge badge-new">
                    <i class="bi bi-sparkles me-1"></i> New
                </div>
                
                <div class="card-image">
                    <img src="https://images.unsplash.com/photo-1600166898405-da9535204843?w=600&auto=format&fit=crop" 
                         alt="Modern Geometric Carpet"
                         loading="lazy">
                    <div class="image-overlay">
                        <a href="{% url 'product_detail' %}" class="view-details-btn">
                            <i class="bi bi-eye me-2"></i> Quick Preview
                        </a>
                    </div>
                </div>
                
                <div class="card-content">
                    <span class="card-category">Contemporary & Modern</span>
                    <h3 class="card-title">Modern Geometric Carpet</h3>
                    <p class="card-description">
                        Abstract geometric patterns in earthy tones. Perfect for modern minimalist interiors.
                    </p>
                    
                    <div class="card-specs">
                        <div class="spec-item">
                            <i class="bi bi-rulers"></i>
                            <span>6×9 ft</span>
                        </div>
                        <div class="spec-item">
                            <i class="bi bi-node-plus"></i>
                            <span>60 knots</span>
                        </div>
                        <div class="spec-item">
                            <i class="bi bi-clock"></i>
                            <span>45 days</span>
                        </div>
                    </div>
                    
                    <div class="card-footer">
                        <span class="quality-tag">
                            <i class="bi bi-shield-check"></i>
                            Standard Quality
                        </span>
                        
                        <div class="card-actions">
                            <a href="{% url 'product_detail' %}" class="primary-action-btn">
                                <i class="bi bi-eye me-2"></i> View Details
                            </a>
                            <a href="#" class="secondary-action-btn" title="Add to favorites">
                                <i class="bi bi-heart"></i>
                            </a>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Product Card 4 -->
            <div class="product-card" 
                 data-category="traditional"
                 data-name="Snow Lion Thangka Carpet"
                 data-tags="traditional,tibetan,thangka,snowlion"
                 data-price="1500">
                <div class="card-badge badge-popular">
                    <i class="bi bi-trophy me-1"></i> Best Seller
                </div>
                
                <div class="card-image">
                    <img src="https://images.unsplash.com/photo-1600166898405-da9535204843?w=600&auto=format&fit=crop" 
                         alt="Snow Lion Thangka Carpet"
                         loading="lazy">
                    <div class="image-overlay">
                        <a href="{% url 'product_detail' %}" class="view-details-btn">
                            <i class="bi bi-eye me-2"></i> Quick Preview
                        </a>
                    </div>
                </div>
                
                <div class="card-content">
                    <span class="card-category">Traditional Tibetan</span>
                    <h3 class="card-title">Snow Lion Thangka Carpet</h3>
                    <p class="card-description">
                        Inspired by Tibetan thangka paintings, featuring snow lions and cloud motifs in vibrant colors.
                    </p>
                    
                    <div class="card-specs">
                        <div class="spec-item">
                            <i class="bi bi-rulers"></i>
                            <span>10×14 ft</span>
                        </div>
                        <div class="spec-item">
                            <i class="bi bi-node-plus"></i>
                            <span>80 knots</span>
                        </div>
                        <div class="spec-item">
                            <i class="bi bi-clock"></i>
                            <span>60 days</span>
                        </div>
                    </div>
                    
                    <div class="card-footer">
                        <span class="quality-tag">
                            <i class="bi bi-award"></i>
                            Premium Quality
                        </span>
                        
                        <div class="card-actions">
                            <a href="{% url 'product_detail' %}" class="primary-action-btn">
                                <i class="bi bi-eye me-2"></i> View Details
                            </a>
                            <a href="#" class="secondary-action-btn" title="Add to favorites">
                                <i class="bi bi-heart"></i>
                            </a>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Product Card 5 -->
            <div class="product-card" 
                 data-category="antique"
                 data-name="Turkish Oushak Carpet"
                 data-tags="antique,turkish,oushak,luxury"
                 data-price="1600">
                <div class="card-badge badge-featured">
                    <i class="bi bi-brush me-1"></i> Custom Order
                </div>
                
                <div class="card-image">
                    <img src="https://images.unsplash.com/photo-1600166898405-da9535204843?w=600&auto=format&fit=crop" 
                         alt="Turkish Oushak Carpet"
                         loading="lazy">
                    <div class="image-overlay">
                        <a href="{% url 'product_detail' %}" class="view-details-btn">
                            <i class="bi bi-eye me-2"></i> Quick Preview
                        </a>
                    </div>
                </div>
                
                <div class="card-content">
                    <span class="card-category">Antique Reproduction</span>
                    <h3 class="card-title">Turkish Oushak Carpet</h3>
                    <p class="card-description">
                        Reproduction of classic Turkish Oushak design with soft pastel colors and large-scale patterns.
                    </p>
                    
                    <div class="card-specs">
                        <div class="spec-item">
                            <i class="bi bi-rulers"></i>
                            <span>8×11 ft</span>
                        </div>
                        <div class="spec-item">
                            <i class="bi bi-node-plus"></i>
                            <span>100 knots</span>
                        </div>
                        <div class="spec-item">
                            <i class="bi bi-clock"></i>
                            <span>90 days</span>
                        </div>
                    </div>
                    
                    <div class="card-footer">
                        <span class="quality-tag">
                            <i class="bi bi-gem"></i>
                            Luxury Quality
                        </span>
                        
                        <div class="card-actions">
                            <a href="{% url 'product_detail' %}" class="primary-action-btn">
                                <i class="bi bi-eye me-2"></i> View Details
                            </a>
                            <a href="#" class="secondary-action-btn" title="Add to favorites">
                                <i class="bi bi-heart"></i>
                            </a>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Product Card 6 -->
            <div class="product-card" 
                 data-category="contemporary"
                 data-name="Abstract Watercolor Carpet"
                 data-tags="modern,abstract,watercolor,contemporary"
                 data-price="950">
                <div class="card-badge badge-new">
                    <i class="bi bi-stars me-1"></i> Limited Edition
                </div>
                
                <div class="card-image">
                    <img src="https://images.unsplash.com/photo-1600166898405-da9535204843?w=600&auto=format&fit=crop" 
                         alt="Abstract Watercolor Carpet"
                         loading="lazy">
                    <div class="image-overlay">
                        <a href="{% url 'product_detail' %}" class="view-details-btn">
                            <i class="bi bi-eye me-2"></i> Quick Preview
                        </a>
                    </div>
                </div>
                
                <div class="card-content">
                    <span class="card-category">Contemporary & Modern</span>
                    <h3 class="card-title">Abstract Watercolor Carpet</h3>
                    <p class="card-description">
                        Soft watercolor-inspired abstract design with gradient colors, handmade using natural vegetable dyes.
                    </p>
                    
                    <div class="card-specs">
                        <div class="spec-item">
                            <i class="bi bi-rulers"></i>
                            <span>7×10 ft</span>
                        </div>
                        <div class="spec-item">
                            <i class="bi bi-node-plus"></i>
                            <span>60 knots</span>
                        </div>
                        <div class="spec-item">
                            <i class="bi bi-clock"></i>
                            <span>45 days</span>
                        </div>
                    </div>
                    
                    <div class="card-footer">
                        <span class="quality-tag">
                            <i class="bi bi-shield-check"></i>
                            Standard Quality
                        </span>
                        
                        <div class="card-actions">
                            <a href="{% url 'product_detail' %}" class="primary-action-btn">
                                <i class="bi bi-eye me-2"></i> View Details
                            </a>
                            <a href="#" class="secondary-action-btn" title="Add to favorites">
                                <i class="bi bi-heart"></i>
                            </a>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- Empty State (Hidden by default) -->
        <div class="empty-state" id="emptyState" style="display: none;">
            <div class="empty-icon">
                <i class="bi bi-search"></i>
            </div>
            <h3 class="mb-3">No Products Found</h3>
            <p class="mb-4">
                Try adjusting your search or filter to find what you're looking for.
            </p>
            <button class="clear-filters-btn" id="clearFilters">
                <i class="bi bi-x-circle me-2"></i> Clear All Filters
            </button>
        </div>
        
        <!-- Pagination -->
        <div class="pagination-container">
            <nav aria-label="Products pagination">
                <ul class="pagination">
                    <li class="page-item disabled">
                        <a class="page-link" href="#" aria-label="Previous">
                            <i class="bi bi-chevron-left"></i>
                        </a>
                    </li>
                    <li class="page-item active"><a class="page-link" href="#">1</a></li>
                    <li class="page-item"><a class="page-link" href="#">2</a></li>
                    <li class="page-item"><a class="page-link" href="#">3</a></li>
                    <li class="page-item"><a class="page-link" href="#">4</a></li>
                    <li class="page-item"><a class="page-link" href="#">5</a></li>
                    <li class="page-item">
                        <a class="page-link" href="#" aria-label="Next">
                            <i class="bi bi-chevron-right"></i>
                        </a>
                    </li>
                </ul>
            </nav>
        </div>
        
        <!-- Quick Stats -->
        <div class="quick-stats">
            <div class="stats-container">
                <div class="stat-item" data-aos="fade-up">
                    <div class="stat-icon">
                        <i class="bi bi-calendar-check"></i>
                    </div>
                    <span class="stat-number">35+</span>
                    <span class="stat-label">Years Experience</span>
                </div>
                
                <div class="stat-item" data-aos="fade-up" data-aos-delay="100">
                    <div class="stat-icon">
                        <i class="bi bi-check-circle"></i>
                    </div>
                    <span class="stat-number">200+</span>
                    <span class="stat-label">Designs Available</span>
                </div>
                
                <div class="stat-item" data-aos="fade-up" data-aos-delay="200">
                    <div class="stat-icon">
                        <i class="bi bi-globe"></i>
                    </div>
                    <span class="stat-number">50+</span>
                    <span class="stat-label">Countries Served</span>
                </div>
                
                <div class="stat-item" data-aos="fade-up" data-aos-delay="300">
                    <div class="stat-icon">
                        <i class="bi bi-award"></i>
                    </div>
                    <span class="stat-number">15+</span>
                    <span class="stat-label">Quality Certifications</span>
                </div>
            </div>
        </div>
    </div>
</section>

{% endblock %}

{% block extra_js %}
<script>
// Products data
const productsData = [
    {
        id: 1,
        name: "Dragon Lotus Carpet",
        category: "traditional",
        category_display: "Traditional Tibetan",
        badge: "Popular",
        badge_type: "popular",
        badge_icon: "bi-fire",
        description: "Featuring traditional Tibetan dragon motifs with intricate lotus patterns. Handwoven with natural dyes.",
        size: "8×10 ft",
        knots: "80",
        delivery: "60",
        quality: "Premium Quality",
        quality_icon: "bi-award",
        tags: "traditional,tibetan,dragon,lotus,premium",
        price: "1200"
    },
    {
        id: 2,
        name: "Persian Palace Carpet",
        category: "antique",
        category_display: "Antique Reproduction",
        badge: "Featured",
        badge_type: "featured",
        badge_icon: "bi-star-fill",
        description: "18th-century Persian design reproduction with intricate floral patterns and aged finish.",
        size: "9×12 ft",
        knots: "100",
        delivery: "90",
        quality: "Luxury Quality",
        quality_icon: "bi-gem",
        tags: "antique,persian,palace,luxury",
        price: "1800"
    },
    {
        id: 3,
        name: "Modern Geometric Carpet",
        category: "contemporary",
        category_display: "Contemporary & Modern",
        badge: "New",
        badge_type: "new",
        badge_icon: "bi-sparkles",
        description: "Abstract geometric patterns in earthy tones. Perfect for modern minimalist interiors.",
        size: "6×9 ft",
        knots: "60",
        delivery: "45",
        quality: "Standard Quality",
        quality_icon: "bi-shield-check",
        tags: "modern,geometric,abstract,contemporary",
        price: "850"
    },
    {
        id: 4,
        name: "Snow Lion Thangka Carpet",
        category: "traditional",
        category_display: "Traditional Tibetan",
        badge: "Best Seller",
        badge_type: "popular",
        badge_icon: "bi-trophy",
        description: "Inspired by Tibetan thangka paintings, featuring snow lions and cloud motifs in vibrant colors.",
        size: "10×14 ft",
        knots: "80",
        delivery: "60",
        quality: "Premium Quality",
        quality_icon: "bi-award",
        tags: "traditional,tibetan,thangka,snowlion",
        price: "1500"
    },
    {
        id: 5,
        name: "Turkish Oushak Carpet",
        category: "antique",
        category_display: "Antique Reproduction",
        badge: "Custom Order",
        badge_type: "featured",
        badge_icon: "bi-brush",
        description: "Reproduction of classic Turkish Oushak design with soft pastel colors and large-scale patterns.",
        size: "8×11 ft",
        knots: "100",
        delivery: "90",
        quality: "Luxury Quality",
        quality_icon: "bi-gem",
        tags: "antique,turkish,oushak,luxury",
        price: "1600"
    },
    {
        id: 6,
        name: "Abstract Watercolor Carpet",
        category: "contemporary",
        category_display: "Contemporary & Modern",
        badge: "Limited Edition",
        badge_type: "new",
        badge_icon: "bi-stars",
        description: "Soft watercolor-inspired abstract design with gradient colors, handmade using natural vegetable dyes.",
        size: "7×10 ft",
        knots: "60",
        delivery: "45",
        quality: "Standard Quality",
        quality_icon: "bi-shield-check",
        tags: "modern,abstract,watercolor,contemporary",
        price: "950"
    }
];

document.addEventListener('DOMContentLoaded', function() {
    // DOM Elements
    const productsGrid = document.getElementById('productsGrid');
    const searchInput = document.getElementById('searchInput');
    const filterButtons = document.querySelectorAll('.filter-btn');
    const sortSelect = document.getElementById('sortSelect');
    const resultsCount = document.getElementById('resultsCount');
    const emptyState = document.getElementById('emptyState');
    const clearFiltersBtn = document.getElementById('clearFilters');
    const products = Array.from(document.querySelectorAll('.product-card'));
    const paginationItems = document.querySelectorAll('.page-item');
    
    // Filter state
    let activeFilter = 'all';
    let searchQuery = '';
    let sortBy = 'featured';
    let currentPage = 1;
    const itemsPerPage = 6;
    
    // Initialize
    updateResultsCount();
    updatePagination();
    
    // Filter by category
    filterButtons.forEach(button => {
        button.addEventListener('click', function() {
            // Update active button
            filterButtons.forEach(btn => btn.classList.remove('active'));
            this.classList.add('active');
            
            // Update filter
            activeFilter = this.dataset.filter;
            currentPage = 1;
            filterProducts();
            updatePagination();
        });
    });
    
    // Search functionality
    let searchTimeout;
    searchInput.addEventListener('input', function() {
        clearTimeout(searchTimeout);
        searchTimeout = setTimeout(() => {
            searchQuery = this.value.toLowerCase().trim();
            currentPage = 1;
            filterProducts();
            updatePagination();
        }, 300);
    });
    
    // Sort functionality
    sortSelect.addEventListener('change', function() {
        sortBy = this.value;
        sortProducts();
    });
    
    // Clear filters
    clearFiltersBtn.addEventListener('click', function() {
        searchInput.value = '';
        searchQuery = '';
        filterButtons.forEach(btn => {
            btn.classList.remove('active');
            if (btn.dataset.filter === 'all') {
                btn.classList.add('active');
            }
        });
        activeFilter = 'all';
        sortSelect.value = 'featured';
        sortBy = 'featured';
        currentPage = 1;
        filterProducts();
        updatePagination();
    });
    
    // Pagination click
    paginationItems.forEach(item => {
        item.addEventListener('click', function(e) {
            e.preventDefault();
            const link = this.querySelector('.page-link');
            if (link && !this.classList.contains('disabled') && !this.classList.contains('active')) {
                if (link.textContent.includes('Previous')) {
                    if (currentPage > 1) currentPage--;
                } else if (link.textContent.includes('Next')) {
                    currentPage++;
                } else {
                    currentPage = parseInt(link.textContent);
                }
                filterProducts();
                updatePagination();
            }
        });
    });
    
    // Filter products function
    function filterProducts() {
        let visibleProducts = [];
        
        products.forEach(product => {
            const category = product.dataset.category;
            const name = product.dataset.name.toLowerCase();
            const tags = product.dataset.tags.toLowerCase();
            
            // Category filter
            const categoryMatch = activeFilter === 'all' || category === activeFilter;
            
            // Search filter
            const searchMatch = !searchQuery || 
                name.includes(searchQuery) || 
                tags.includes(searchQuery);
            
            // Show/hide product
            if (categoryMatch && searchMatch) {
                visibleProducts.push(product);
            }
        });
        
        // Sort if needed
        if (sortBy !== 'featured') {
            sortProducts(visibleProducts);
        }
        
        // Paginate results
        const startIndex = (currentPage - 1) * itemsPerPage;
        const endIndex = startIndex + itemsPerPage;
        const paginatedProducts = visibleProducts.slice(startIndex, endIndex);
        
        // Show/hide products
        products.forEach((product, index) => {
            if (paginatedProducts.includes(product)) {
                product.style.display = 'flex';
                product.style.opacity = '1';
                product.style.transform = 'translateY(0)';
            } else {
                product.style.opacity = '0';
                product.style.transform = 'translateY(20px)';
                setTimeout(() => {
                    product.style.display = 'none';
                }, 300);
            }
        });
        
        // Update results count
        updateResultsCount(visibleProducts.length);
        
        // Show/hide empty state
        if (visibleProducts.length === 0) {
            emptyState.style.display = 'block';
            productsGrid.style.display = 'none';
            document.querySelector('.pagination-container').style.display = 'none';
        } else {
            emptyState.style.display = 'none';
            productsGrid.style.display = 'grid';
            document.querySelector('.pagination-container').style.display = 'block';
        }
    }
    
    // Sort products function
    function sortProducts(visibleProducts = products) {
        visibleProducts.sort((a, b) => {
            switch (sortBy) {
                case 'newest':
                    const badges = ['new', 'featured', 'popular', ''];
                    const badgeA = a.querySelector('.card-badge')?.classList[1] || '';
                    const badgeB = b.querySelector('.card-badge')?.classList[1] || '';
                    return badges.indexOf(badgeB) - badges.indexOf(badgeA);
                case 'popular':
                    if (a.querySelector('.badge-popular')) return -1;
                    if (b.querySelector('.badge-popular')) return 1;
                    return 0;
                case 'price-low':
                case 'price-high':
                    const priceA = parseInt(a.dataset.price) || 0;
                    const priceB = parseInt(b.dataset.price) || 0;
                    return sortBy === 'price-low' ? priceA - priceB : priceB - priceA;
                default:
                    return 0;
            }
        });
        
        // Reorder DOM
        visibleProducts.forEach((product, index) => {
            productsGrid.appendChild(product);
            product.style.animationDelay = `${index * 0.05}s`;
        });
    }
    
    // Update results count
    function updateResultsCount(count = products.length) {
        const start = Math.min((currentPage - 1) * itemsPerPage + 1, count);
        const end = Math.min(currentPage * itemsPerPage, count);
        resultsCount.innerHTML = `Showing <span class="fw-bold" style="color: var(--medium-navy);">${start}-${end}</span> of <span style="color: var(--medium-navy);">${count}</span> products`;
    }
    
    // Update pagination
    function updatePagination() {
        const totalProducts = Array.from(products).filter(product => {
            const category = product.dataset.category;
            const name = product.dataset.name.toLowerCase();
            const tags = product.dataset.tags.toLowerCase();
            
            const categoryMatch = activeFilter === 'all' || category === activeFilter;
            const searchMatch = !searchQuery || name.includes(searchQuery) || tags.includes(searchQuery);
            
            return categoryMatch && searchMatch;
        }).length;
        
        const totalPages = Math.ceil(totalProducts / itemsPerPage);
        
        // Update active page
        paginationItems.forEach(item => {
            item.classList.remove('active');
            const link = item.querySelector('.page-link');
            if (link && !isNaN(parseInt(link.textContent)) && parseInt(link.textContent) === currentPage) {
                item.classList.add('active');
            }
        });
        
        // Enable/disable previous/next buttons
        const prevBtn = document.querySelector('.page-item:first-child');
        const nextBtn = document.querySelector('.page-item:last-child');
        
        if (currentPage === 1) {
            prevBtn.classList.add('disabled');
        } else {
            prevBtn.classList.remove('disabled');
        }
        
        if (currentPage === totalPages || totalPages === 0) {
            nextBtn.classList.add('disabled');
        } else {
            nextBtn.classList.remove('disabled');
        }
    }
    
    // Smooth scroll to section
    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener('click', function(e) {
            if (this.getAttribute('href') !== '#') {
                const target = document.querySelector(this.getAttribute('href'));
                if (target) {
                    e.preventDefault();
                    target.scrollIntoView({
                        behavior: 'smooth',
                        block: 'start'
                    });
                }
            }
        });
    });
    
    // Add to favorites
    document.querySelectorAll('.secondary-action-btn[title="Add to favorites"]').forEach(btn => {
        btn.addEventListener('click', function(e) {
            e.preventDefault();
            const icon = this.querySelector('i');
            if (icon.classList.contains('bi-heart')) {
                icon.classList.remove('bi-heart');
                icon.classList.add('bi-heart-fill');
                this.style.color = 'white';
                this.style.background = 'var(--medium-navy)';
                this.title = 'Remove from favorites';
                
                // Show toast notification
                showToast('Added to favorites!', 'success');
            } else {
                icon.classList.remove('bi-heart-fill');
                icon.classList.add('bi-heart');
                this.style.color = 'var(--light-navy)';
                this.style.background = 'rgba(44, 82, 130, 0.1)';
                this.title = 'Add to favorites';
                
                // Show toast notification
                showToast('Removed from favorites!', 'info');
            }
        });
    });
    
    // Toast notification function
    function showToast(message, type = 'info') {
        const toast = document.createElement('div');
        toast.className = `toast align-items-center text-white bg-${type === 'success' ? 'success' : 'info'} border-0`;
        toast.style.position = 'fixed';
        toast.style.bottom = '20px';
        toast.style.right = '20px';
        toast.style.zIndex = '9999';
        toast.style.minWidth = '250px';
        toast.style.borderRadius = '8px';
        toast.style.boxShadow = '0 5px 15px rgba(0,0,0,0.2)';
        
        toast.innerHTML = `
            <div class="d-flex">
                <div class="toast-body">
                    <i class="bi ${type === 'success' ? 'bi-check-circle' : 'bi-info-circle'} me-2"></i>
                    ${message}
                </div>
                <button type="button" class="btn-close btn-close-white me-2 m-auto" data-bs-dismiss="toast"></button>
            </div>
        `;
        
        document.body.appendChild(toast);
        
        const bsToast = new bootstrap.Toast(toast, { delay: 3000 });
        bsToast.show();
        
        toast.addEventListener('hidden.bs.toast', function() {
            document.body.removeChild(toast);
        });
    }
});
</script>
{% endblock %}